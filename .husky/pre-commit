#!/bin/sh

# Pre-commit hook: Run validation before commit
echo "ğŸ” Running pre-commit validation..."

cd "."

# Run TypeScript check
echo "ğŸ“ Checking TypeScript..."
npx tsc --noEmit
if [ $? -ne 0 ]; then
  echo "âŒ TypeScript errors found. Please fix them before committing."
  exit 1
fi

# Run ESLint
echo "ğŸ” Running ESLint..."
npx eslint . --ext .ts,.tsx,.js,.jsx --quiet 2>/dev/null || npx next lint --quiet 2>/dev/null
if [ $? -ne 0 ]; then
  echo "âŒ ESLint errors found. Please fix them before committing."
  exit 1
fi

echo "âœ… Pre-commit validation passed!"
